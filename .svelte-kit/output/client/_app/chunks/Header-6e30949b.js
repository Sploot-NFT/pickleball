import{S as ee,i as te,s as re,e as h,t as D,k as M,c as u,a as _,h as $,d,m as P,f as b,g as S,J as c,j as ke,E as U,w as De,x as $e,y as He,q as be,o as we,B as Me,b as w,K as X,L as N,M as ye,N as ht,v as ut,F as _t,G as mt,H as gt,I as vt}from"./index-65c209b5.js";import{w as ft}from"./index-4ee901d4.js";function pt(n){let e,s,t,l,a,r,o;return{c(){e=h("h2"),s=D(n[0]),t=D("'s Score"),l=M(),a=h("p"),r=h("strong"),o=D(xe),this.h()},l(f){e=u(f,"H2",{style:!0});var i=_(e);s=$(i,n[0]),t=$(i,"'s Score"),i.forEach(d),l=P(f),a=u(f,"P",{style:!0});var v=_(a);r=u(v,"STRONG",{});var p=_(r);o=$(p,xe),p.forEach(d),v.forEach(d),this.h()},h(){b(e,"text-align","center"),b(a,"text-align","center")},m(f,i){S(f,e,i),c(e,s),c(e,t),S(f,l,i),S(f,a,i),c(a,r),c(r,o)},p(f,[i]){i&1&&ke(s,f[0])},i:U,o:U,d(f){f&&d(e),f&&d(l),f&&d(a)}}}let xe=0;function bt(n,e,s){let{actionToParse:t="null"}=e,{handle:l="null"}=e;return t.split(" ").toString().split(":"),n.$$set=r=>{"actionToParse"in r&&s(1,t=r.actionToParse),"handle"in r&&s(0,l=r.handle)},[l,t]}class wt extends ee{constructor(e){super(),te(this,e,bt,pt,re,{actionToParse:1,handle:0})}}function yt(n){let e,s,t,l,a,r,o,f;return l=new wt({props:{handle:n[0],actionToParse:"#SLAP12 2075-S1+5568:2376-S2+2106:6870-S2+2106:7332-S1+5568"}}),{c(){e=h("h1"),s=D("Latest Results"),t=M(),De(l.$$.fragment),a=M(),r=h("h1"),o=D("Upcoming Team"),this.h()},l(i){e=u(i,"H1",{style:!0});var v=_(e);s=$(v,"Latest Results"),v.forEach(d),t=P(i),$e(l.$$.fragment,i),a=P(i),r=u(i,"H1",{style:!0});var p=_(r);o=$(p,"Upcoming Team"),p.forEach(d),this.h()},h(){b(e,"text-align","center"),b(r,"text-align","center")},m(i,v){S(i,e,v),c(e,s),S(i,t,v),He(l,i,v),S(i,a,v),S(i,r,v),c(r,o),f=!0},p:U,i(i){f||(be(l.$$.fragment,i),f=!0)},o(i){we(l.$$.fragment,i),f=!1},d(i){i&&d(e),i&&d(t),Me(l,i),i&&d(a),i&&d(r)}}}function kt(n){return[localStorage.getItem("twitter_handle")]}class Et extends ee{constructor(e){super(),te(this,e,kt,yt,re,{})}}const Xe=ft(),Pe=ft();function et(n,e,s){const t=n.slice();return t[6]=e[s],t}function tt(n,e,s){const t=n.slice();return t[9]=e[s],t}function rt(n,e,s){const t=n.slice();return t[6]=e[s],t}function lt(n,e,s){const t=n.slice();return t[9]=e[s],t}function st(n){let e,s,t,l,a,r;return{c(){e=h("td"),s=h("div"),t=h("img"),this.h()},l(o){e=u(o,"TD",{});var f=_(e);s=u(f,"DIV",{id:!0,style:!0});var i=_(s);t=u(i,"IMG",{id:!0,style:!0,src:!0}),i.forEach(d),f.forEach(d),this.h()},h(){w(t,"id",n[9]),b(t,"width","12vw"),X(t.src,l="/cards/"+n[9]+".png")||w(t,"src",l),w(s,"id",n[9]+"-div"),b(s,"cursor","move"),b(s,"position","relative"),b(s,"left","0")},m(o,f){S(o,e,f),c(e,s),c(s,t),a||(r=N(t,"click",n[1]),a=!0)},p:U,d(o){o&&d(e),a=!1,r()}}}function at(n){let e,s=n[6],t=[];for(let l=0;l<s.length;l+=1)t[l]=st(lt(n,s,l));return{c(){e=h("tr");for(let l=0;l<t.length;l+=1)t[l].c()},l(l){e=u(l,"TR",{});var a=_(e);for(let r=0;r<t.length;r+=1)t[r].l(a);a.forEach(d)},m(l,a){S(l,e,a);for(let r=0;r<t.length;r+=1)t[r].m(e,null)},p(l,a){if(a&3){s=l[6];let r;for(r=0;r<s.length;r+=1){const o=lt(l,s,r);t[r]?t[r].p(o,a):(t[r]=st(o),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=s.length}},d(l){l&&d(e),ye(t,l)}}}function nt(n){let e,s,t,l,a,r;return{c(){e=h("td"),s=h("div"),t=h("img"),this.h()},l(o){e=u(o,"TD",{});var f=_(e);s=u(f,"DIV",{id:!0,style:!0});var i=_(s);t=u(i,"IMG",{loading:!0,id:!0,style:!0,src:!0}),i.forEach(d),f.forEach(d),this.h()},h(){w(t,"loading","lazy"),w(t,"id",n[9]),b(t,"width","12vw"),X(t.src,l="/cards/"+n[9]+".png")||w(t,"src",l),w(s,"id",n[9]+"-div"),b(s,"cursor","move"),b(s,"position","relative"),b(s,"left","0")},m(o,f){S(o,e,f),c(e,s),c(s,t),a||(r=N(t,"click",n[1]),a=!0)},p:U,d(o){o&&d(e),a=!1,r()}}}function ot(n){let e,s,t=n[6],l=[];for(let a=0;a<t.length;a+=1)l[a]=nt(tt(n,t,a));return{c(){e=h("tr");for(let a=0;a<l.length;a+=1)l[a].c();s=M()},l(a){e=u(a,"TR",{});var r=_(e);for(let o=0;o<l.length;o+=1)l[o].l(r);s=P(r),r.forEach(d)},m(a,r){S(a,e,r);for(let o=0;o<l.length;o+=1)l[o].m(e,null);c(e,s)},p(a,r){if(r&3){t=a[6];let o;for(o=0;o<t.length;o+=1){const f=tt(a,t,o);l[o]?l[o].p(f,r):(l[o]=nt(f),l[o].c(),l[o].m(e,s))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(a){a&&d(e),ye(l,a)}}}function Tt(n){let e,s,t,l,a,r,o,f=n[0].slice(0,50/_e),i=[];for(let m=0;m<f.length;m+=1)i[m]=at(rt(n,f,m));let v=n[0].slice(50),p=[];for(let m=0;m<v.length;m+=1)p[m]=ot(et(n,v,m));return{c(){e=h("h2"),s=D("Roster"),t=M(),l=h("div"),a=h("div"),r=h("table");for(let m=0;m<i.length;m+=1)i[m].c();o=M();for(let m=0;m<p.length;m+=1)p[m].c();this.h()},l(m){e=u(m,"H2",{style:!0});var E=_(e);s=$(E,"Roster"),E.forEach(d),t=P(m),l=u(m,"DIV",{class:!0});var g=_(l);a=u(g,"DIV",{style:!0});var R=_(a);r=u(R,"TABLE",{id:!0,style:!0});var B=_(r);for(let H=0;H<i.length;H+=1)i[H].l(B);o=P(B);for(let H=0;H<p.length;H+=1)p[H].l(B);B.forEach(d),R.forEach(d),g.forEach(d),this.h()},h(){b(e,"text-align","center"),b(e,"margin-bottom","-1vh"),w(r,"id","card-browser-table"),b(r,"table-layout","fixed"),b(a,"overflow-y","scroll"),b(a,"height","72.5vh"),w(l,"class","card-browser svelte-1lhufdg")},m(m,E){S(m,e,E),c(e,s),S(m,t,E),S(m,l,E),c(l,a),c(a,r);for(let g=0;g<i.length;g+=1)i[g].m(r,null);c(r,o);for(let g=0;g<p.length;g+=1)p[g].m(r,null)},p(m,[E]){if(E&3){f=m[0].slice(0,50/_e);let g;for(g=0;g<f.length;g+=1){const R=rt(m,f,g);i[g]?i[g].p(R,E):(i[g]=at(R),i[g].c(),i[g].m(r,o))}for(;g<i.length;g+=1)i[g].d(1);i.length=f.length}if(E&3){v=m[0].slice(50);let g;for(g=0;g<v.length;g+=1){const R=et(m,v,g);p[g]?p[g].p(R,E):(p[g]=ot(R),p[g].c(),p[g].m(r,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=v.length}},i:U,o:U,d(m){m&&d(e),m&&d(t),m&&d(l),ye(i,m),ye(p,m)}}}const _e=4;function St(n){var e;Pe.subscribe(l=>{e=l});let s=[];for(let l=0;l<1e4/_e;l++){let a=[];for(let r=0;r<_e;r++)a.push(l*_e+r);s.push(a)}s.slice(0,50);function t(l){let a=document.getElementById(e);a.src=l.target.src}return[s,t]}class It extends ee{constructor(e){super(),te(this,e,St,Tt,re,{})}}function Dt(n){let e,s,t,l,a,r,o,f,i,v,p,m,E,g,R,B,H,q,K,y,T,W,A,V,z,L,O,C,k,I,le,j,G,ie,se,J,ae,Ee,Te,Q,de,Y,he,Z,Ce,Se,ue,x,Re,Ie,Be;return{c(){e=h("h2"),s=D("Team Selection"),t=M(),l=h("div"),a=h("div"),r=h("h3"),o=D("Fans"),f=M(),i=h("div"),v=h("table"),p=h("tr"),m=h("td"),E=h("img"),R=M(),B=h("td"),H=h("img"),K=M(),y=h("td"),T=h("img"),A=M(),V=h("div"),z=h("div"),L=h("table"),O=h("tr"),C=h("td"),k=h("h3"),I=D("Staff"),le=M(),j=h("div"),G=h("img"),se=M(),J=h("td"),ae=h("h3"),Ee=D("Players"),Te=M(),Q=h("div"),de=h("table"),Y=h("tr"),he=h("td"),Z=h("img"),Se=M(),ue=h("td"),x=h("img"),this.h()},l(F){e=u(F,"H2",{style:!0});var ne=_(e);s=$(ne,"Team Selection"),ne.forEach(d),t=P(F),l=u(F,"DIV",{class:!0});var Ae=_(l);a=u(Ae,"DIV",{style:!0});var oe=_(a);r=u(oe,"H3",{style:!0});var Le=_(r);o=$(Le,"Fans"),Le.forEach(d),f=P(oe),i=u(oe,"DIV",{style:!0});var Ve=_(i);v=u(Ve,"TABLE",{id:!0});var Ne=_(v);p=u(Ne,"TR",{id:!0});var ce=_(p);m=u(ce,"TD",{});var Ue=_(m);E=u(Ue,"IMG",{id:!0,src:!0,class:!0}),Ue.forEach(d),R=P(ce),B=u(ce,"TD",{});var Ge=_(B);H=u(Ge,"IMG",{id:!0,src:!0,class:!0}),Ge.forEach(d),K=P(ce),y=u(ce,"TD",{});var qe=_(y);T=u(qe,"IMG",{id:!0,src:!0,class:!0}),qe.forEach(d),ce.forEach(d),Ne.forEach(d),Ve.forEach(d),A=P(oe),V=u(oe,"DIV",{style:!0});var Oe=_(V);z=u(Oe,"DIV",{});var je=_(z);L=u(je,"TABLE",{});var Fe=_(L);O=u(Fe,"TR",{});var me=_(O);C=u(me,"TD",{});var ge=_(C);k=u(ge,"H3",{style:!0});var We=_(k);I=$(We,"Staff"),We.forEach(d),le=P(ge),j=u(ge,"DIV",{style:!0});var ze=_(j);G=u(ze,"IMG",{id:!0,src:!0,class:!0}),ze.forEach(d),ge.forEach(d),se=P(me),J=u(me,"TD",{});var ve=_(J);ae=u(ve,"H3",{style:!0});var Je=_(ae);Ee=$(Je,"Players"),Je.forEach(d),Te=P(ve),Q=u(ve,"DIV",{style:!0});var Ke=_(Q);de=u(Ke,"TABLE",{});var Qe=_(de);Y=u(Qe,"TR",{id:!0});var pe=_(Y);he=u(pe,"TD",{});var Ye=_(he);Z=u(Ye,"IMG",{id:!0,src:!0,class:!0}),Ye.forEach(d),Se=P(pe),ue=u(pe,"TD",{});var Ze=_(ue);x=u(Ze,"IMG",{id:!0,src:!0,class:!0}),Ze.forEach(d),pe.forEach(d),Qe.forEach(d),Ke.forEach(d),ve.forEach(d),me.forEach(d),Fe.forEach(d),je.forEach(d),Oe.forEach(d),oe.forEach(d),Ae.forEach(d),this.h()},h(){b(e,"text-align","center"),b(e,"margin-bottom","-1vh"),b(r,"text-align","center"),w(E,"id","character-fan-1"),X(E.src,g="/cards/blank.png")||w(E,"src",g),w(E,"class","position-card svelte-1pc0oia"),w(H,"id","character-fan-2"),X(H.src,q="/cards/blank.png")||w(H,"src",q),w(H,"class","position-card svelte-1pc0oia"),w(T,"id","character-fan-3"),X(T.src,W="/cards/blank.png")||w(T,"src",W),w(T,"class","position-card svelte-1pc0oia"),w(p,"id","fans"),w(v,"id","team-selection"),b(i,"border","dotted"),b(i,"padding","1vh"),b(k,"text-align","center"),w(G,"id","character-staff-1"),X(G.src,ie="/cards/blank.png")||w(G,"src",ie),w(G,"class","position-card svelte-1pc0oia"),b(j,"border","dotted"),b(j,"padding","1vh"),b(j,"overflow","hidden"),b(ae,"text-align","center"),w(Z,"id","character-player-1"),X(Z.src,Ce="/cards/blank.png")||w(Z,"src",Ce),w(Z,"class","position-card svelte-1pc0oia"),w(x,"id","character-player-2"),X(x.src,Re="/cards/blank.png")||w(x,"src",Re),w(x,"class","position-card svelte-1pc0oia"),w(Y,"id","players"),b(Q,"border","dotted"),b(Q,"padding","0.7vh"),b(Q,"overflow","hidden"),b(V,"overflow","hidden"),b(V,"position","relative"),b(V,"left","-1.5vh"),b(V,"width","41vw"),b(a,"width","39vw"),b(a,"margin","auto"),w(l,"class","team-select svelte-1pc0oia")},m(F,ne){S(F,e,ne),c(e,s),S(F,t,ne),S(F,l,ne),c(l,a),c(a,r),c(r,o),c(a,f),c(a,i),c(i,v),c(v,p),c(p,m),c(m,E),c(p,R),c(p,B),c(B,H),c(p,K),c(p,y),c(y,T),c(a,A),c(a,V),c(V,z),c(z,L),c(L,O),c(O,C),c(C,k),c(k,I),c(C,le),c(C,j),c(j,G),c(O,se),c(O,J),c(J,ae),c(ae,Ee),c(J,Te),c(J,Q),c(Q,de),c(de,Y),c(Y,he),c(he,Z),c(Y,Se),c(Y,ue),c(ue,x),Ie||(Be=[N(E,"click",n[0]),N(H,"click",n[0]),N(T,"click",n[0]),N(G,"click",n[0]),N(Z,"click",n[0]),N(x,"click",n[0])],Ie=!0)},p:U,i:U,o:U,d(F){F&&d(e),F&&d(t),F&&d(l),Ie=!1,ht(Be)}}}function ct(n){let e=document.getElementById(n);e.style.border="3px solid #0000ff"}function $t(n){let e=document.getElementById(n);e.style.border="3px solid #ffffff"}function Ht(n){var e;Pe.subscribe(t=>{e=t}),e="character-fan-1";function s(t){$t(e),Pe.set(t.target.id),ct(e)}return ut(()=>{ct(e)}),[s]}class Mt extends ee{constructor(e){super(),te(this,e,Ht,Dt,re,{})}}function Pt(n){let e,s,t,l,a,r,o,f,i;return l=new It({}),f=new Mt({}),{c(){e=h("table"),s=h("tr"),t=h("td"),De(l.$$.fragment),a=M(),r=h("td"),o=h("div"),De(f.$$.fragment),this.h()},l(v){e=u(v,"TABLE",{});var p=_(e);s=u(p,"TR",{});var m=_(s);t=u(m,"TD",{});var E=_(t);$e(l.$$.fragment,E),E.forEach(d),a=P(m),r=u(m,"TD",{});var g=_(r);o=u(g,"DIV",{style:!0});var R=_(o);$e(f.$$.fragment,R),R.forEach(d),g.forEach(d),m.forEach(d),p.forEach(d),this.h()},h(){b(o,"margin-left","2vw")},m(v,p){S(v,e,p),c(e,s),c(s,t),He(l,t,null),c(s,a),c(s,r),c(r,o),He(f,o,null),i=!0},p:U,i(v){i||(be(l.$$.fragment,v),be(f.$$.fragment,v),i=!0)},o(v){we(l.$$.fragment,v),we(f.$$.fragment,v),i=!1},d(v){v&&d(e),Me(l),Me(f)}}}class Ct extends ee{constructor(e){super(),te(this,e,null,Pt,re,{})}}function Rt(n){let e,s;return{c(){e=h("p"),s=D("History")},l(t){e=u(t,"P",{});var l=_(e);s=$(l,"History"),l.forEach(d)},m(t,l){S(t,e,l),c(e,s)},p:U,i:U,o:U,d(t){t&&d(e)}}}class Bt extends ee{constructor(e){super(),te(this,e,null,Rt,re,{})}}const At="https://pickleball.murraygrov.es",Lt="SmpUdFdOejg5R09rOUNZaktNN2Y6MTpjaQ";var fe={hosted_url:At,twitter_client_id:Lt};const Vt=n=>({}),it=n=>({});function Nt(n){let e,s,t,l;return{c(){e=h("button"),s=D("Connect Wallet"),this.h()},l(a){e=u(a,"BUTTON",{class:!0,style:!0});var r=_(e);s=$(r,"Connect Wallet"),r.forEach(d),this.h()},h(){w(e,"class","integration-button svelte-10dp8tc"),b(e,"top","3vw")},m(a,r){S(a,e,r),c(e,s),t||(l=N(e,"click",n[5]),t=!0)},p:U,d(a){a&&d(e),t=!1,l()}}}function Ut(n){let e,s,t,l,a;return{c(){e=h("button"),s=D("Disconnect "),t=D(n[0]),this.h()},l(r){e=u(r,"BUTTON",{class:!0,style:!0});var o=_(e);s=$(o,"Disconnect "),t=$(o,n[0]),o.forEach(d),this.h()},h(){w(e,"class","integration-button svelte-10dp8tc"),b(e,"top","3vw")},m(r,o){S(r,e,o),c(e,s),c(e,t),l||(a=N(e,"click",n[6]),l=!0)},p(r,o){o&1&&ke(t,r[0])},d(r){r&&d(e),l=!1,a()}}}function Gt(n){let e,s,t,l,a;return{c(){e=h("button"),s=D("Disconnect "),t=D(n[3]),this.h()},l(r){e=u(r,"BUTTON",{class:!0,style:!0});var o=_(e);s=$(o,"Disconnect "),t=$(o,n[3]),o.forEach(d),this.h()},h(){w(e,"class","integration-button svelte-10dp8tc"),b(e,"top","3vw")},m(r,o){S(r,e,o),c(e,s),c(e,t),l||(a=N(e,"click",n[6]),l=!0)},p(r,o){o&8&&ke(t,r[3])},d(r){r&&d(e),l=!1,a()}}}function qt(n){let e,s,t,l;return{c(){e=h("button"),s=D("Connect Twitter"),this.h()},l(a){e=u(a,"BUTTON",{class:!0,style:!0});var r=_(e);s=$(r,"Connect Twitter"),r.forEach(d),this.h()},h(){w(e,"class","integration-button svelte-10dp8tc"),b(e,"top","5vw")},m(a,r){S(a,e,r),c(e,s),t||(l=N(e,"click",n[8]),t=!0)},p:U,d(a){a&&d(e),t=!1,l()}}}function Ot(n){let e,s,t,l,a;return{c(){e=h("button"),s=D("Disconnect @"),t=D(n[2]),this.h()},l(r){e=u(r,"BUTTON",{class:!0,style:!0});var o=_(e);s=$(o,"Disconnect @"),t=$(o,n[2]),o.forEach(d),this.h()},h(){w(e,"class","integration-button svelte-10dp8tc"),b(e,"top","5vw")},m(r,o){S(r,e,o),c(e,s),c(e,t),l||(a=N(e,"click",n[7]),l=!0)},p(r,o){o&4&&ke(t,r[2])},d(r){r&&d(e),l=!1,a()}}}function jt(n){let e,s,t,l,a,r,o,f,i,v,p,m,E,g,R,B,H,q,K,y;function T(k,I){return k[0]!=""&&k[3]!=""?Gt:k[0]!=""?Ut:Nt}let W=T(n),A=W(n);function V(k,I){return k[1]!=""?Ot:qt}let z=V(n),L=z(n);const O=n[10].currentPage,C=_t(O,n,n[9],it);return{c(){e=h("div"),s=h("h1"),t=D("Pickleball"),l=M(),A.c(),a=M(),L.c(),r=M(),o=h("h2"),C&&C.c(),f=M(),i=h("b"),v=h("a"),p=D("My Team"),m=M(),E=h("a"),g=D("Home"),R=M(),B=h("a"),H=D("My History"),this.h()},l(k){e=u(k,"DIV",{class:!0});var I=_(e);s=u(I,"H1",{style:!0});var le=_(s);t=$(le,"Pickleball"),le.forEach(d),l=P(I),A.l(I),a=P(I),L.l(I),r=P(I),o=u(I,"H2",{style:!0});var j=_(o);C&&C.l(j),j.forEach(d),f=P(I),i=u(I,"B",{});var G=_(i);v=u(G,"A",{class:!0});var ie=_(v);p=$(ie,"My Team"),ie.forEach(d),m=P(G),E=u(G,"A",{class:!0});var se=_(E);g=$(se,"Home"),se.forEach(d),R=P(G),B=u(G,"A",{class:!0});var J=_(B);H=$(J,"My History"),J.forEach(d),G.forEach(d),I.forEach(d),this.h()},h(){b(s,"text-align","center"),b(o,"text-align","center"),w(v,"class","page-link svelte-10dp8tc"),w(E,"class","page-link svelte-10dp8tc"),w(B,"class","page-link svelte-10dp8tc"),w(e,"class","header svelte-10dp8tc")},m(k,I){S(k,e,I),c(e,s),c(s,t),c(e,l),A.m(e,null),c(e,a),L.m(e,null),c(e,r),c(e,o),C&&C.m(o,null),c(e,f),c(e,i),c(i,v),c(v,p),c(i,m),c(i,E),c(E,g),c(i,R),c(i,B),c(B,H),q=!0,K||(y=[N(v,"click",n[11]),N(E,"click",n[12]),N(B,"click",n[13])],K=!0)},p(k,[I]){W===(W=T(k))&&A?A.p(k,I):(A.d(1),A=W(k),A&&(A.c(),A.m(e,a))),z===(z=V(k))&&L?L.p(k,I):(L.d(1),L=z(k),L&&(L.c(),L.m(e,r))),C&&C.p&&(!q||I&512)&&mt(C,O,k,k[9],q?vt(O,k[9],I,Vt):gt(k[9]),it)},i(k){q||(be(C,k),q=!0)},o(k){we(C,k),q=!1},d(k){k&&d(e),A.d(),L.d(),C&&C.d(k),K=!1,ht(y)}}}function dt(n){let e="",s;for(let t=0;t<n-1;t++)s=[Math.floor(Math.random()*10)+48,Math.floor(Math.random()*25)+65,Math.floor(Math.random()*25)+97],e+=String.fromCharCode(s[Math.floor(Math.random()*3)]);return e}function Ft(n){return window.btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Wt(n){const e=new TextEncoder().encode(n);return crypto.subtle.digest("SHA-256",e).then(s=>Array.from(new Uint8Array(s)).map(a=>a.toString(16).padStart(2,"0")).join(""))}function zt(n,e,s){let{$$slots:t={},$$scope:l}=e,a="",r="";localStorage.getItem("twitter_token")&&(r=localStorage.getItem("twitter_token"));let o="";localStorage.getItem("twitter_handle")&&(o=localStorage.getItem("twitter_handle"));let f="";localStorage.getItem("ens_name")&&(f=localStorage.getItem("ens_name")),Xe.subscribe(y=>{});function i(y,T){Xe.set({component:y,prettyName:T})}function v(){ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}).then(()=>ethereum.request({method:"eth_requestAccounts"}).then(y=>{s(0,a=y[0]),fetch(`${fe.hosted_url}/api/ens/reverse_lookup/${a}`).then(T=>T.json()).then(T=>{localStorage.setItem("ens_name",T.ensName),s(3,f=T.ensName)})}))}function p(){ethereum.request({method:"eth_requestAccounts"}).then(y=>s(0,a=y[0]))}function m(){s(0,a="")}function E(){s(1,r=""),localStorage.setItem("twitter_token","")}async function g(){const y=new Proxy(new URLSearchParams(window.location.search),{get:(A,V)=>A.get(V)});if(y.state!=localStorage.getItem("twitter_state")){console.log("Twitter state mismatch"),alert("CSRF detected when handling Twitter redirect");return}return await(await fetch(fe.hosted_url+"/api/twitter/get_auth_token/"+localStorage.getItem("twitter_pkce")+"/"+y.code)).json()}new Proxy(new URLSearchParams(window.location.search),{get:(y,T)=>y.get(T)}).state&&g().then(y=>{s(1,r=y.access_token),localStorage.setItem("twitter_token",y.access_token),localStorage.setItem("twitter_refresh_token",y.refresh_token),localStorage.setItem("twitter_token_expiry",Date.now()+y.expires_in*1e3),fetch(`${fe.hosted_url}/api/twitter/get_handle/${y.access_token}`).then(T=>T.json()).then(T=>{localStorage.setItem("twitter_handle",T.data.username),s(2,o=T.data.username),console.log(T)}),window.location.href="/"});function B(){const y=dt(20).toLowerCase();localStorage.setItem("twitter_state",y);const T=dt(50).toLowerCase();Wt(T).then(W=>{localStorage.setItem("twitter_pkce",T);const A=Ft(W);localStorage.setItem("code_challenge",A);let V="https://twitter.com/i/oauth2/authorize?response_type=code&client_id="+fe.twitter_client_id+"&redirect_uri="+fe.hosted_url+"&scope=tweet.read%20tweet.write%20offline.access%20users.read&state="+y+"&code_challenge="+T+"&code_challenge_method=plain";window.location.href=V})}ut(()=>{ethereum.request({method:"eth_accounts"}).then(y=>{y.length!=0&&p()})});const H=()=>i(Ct,"My Team"),q=()=>i(Et,"Home"),K=()=>i(Bt,"My History");return n.$$set=y=>{"$$scope"in y&&s(9,l=y.$$scope)},[a,r,o,f,i,v,m,E,B,l,t,H,q,K]}class Qt extends ee{constructor(e){super(),te(this,e,zt,jt,re,{})}}export{It as C,Qt as H,Mt as T,Et as a,Xe as p};
